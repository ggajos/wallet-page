/*! For license information please see main.bundle.js.LICENSE.txt */
(self.webpackChunkwallet=self.webpackChunkwallet||[]).push([[179],{424:(t,e,r)=>{"use strict";r.d(e,{Z:()=>s});var n=r(81),a=r.n(n),i=r(645),o=r.n(i)()(a());o.push([t.id,"textarea {\r\n    width: 100%;\r\n    height: 400px;\r\n    white-space: pre;\r\n    overflow-wrap: normal;\r\n    overflow-x: scroll;\r\n}",""]);const s=o},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",n=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),n&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),n&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,n,a,i){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(n)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(o[l]=!0)}for(var u=0;u<t.length;u++){var c=[].concat(t[u]);n&&o[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),r&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=r):c[2]=r),a&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=a):c[4]="".concat(a)),e.push(c))}},e}},81:t=>{"use strict";t.exports=function(t){return t[1]}},493:(t,e,r)=>{var n;t=r.nmd(t),function(){"use strict";var a;try{a="undefined"!=typeof Intl&&void 0!==Intl.Collator?Intl.Collator("generic",{sensitivity:"base"}):null}catch(t){console.log("Collator could not be initialized and wouldn't be used")}var i=r(811),o=[],s=[],l={get:function(t,e,r){if(r&&a&&r.useCollator){var n,l,u,c,h,m,f=t.length,p=e.length;if(0===f)return p;if(0===p)return f;for(u=0;u<p;++u)o[u]=u,s[u]=e.charCodeAt(u);for(o[p]=p,u=0;u<f;++u){for(l=u+1,c=0;c<p;++c)n=l,m=0===a.compare(t.charAt(u),String.fromCharCode(s[c])),(l=o[c]+(m?0:1))>(h=n+1)&&(l=h),l>(h=o[c+1]+1)&&(l=h),o[c]=n;o[c]=l}return l}return i.distance(t,e)}};null!==r.amdD&&r.amdO?void 0===(n=function(){return l}.call(e,r,e,t))||(t.exports=n):null!==t&&void 0!==e&&t.exports===e?t.exports=l:"undefined"!=typeof self&&"function"==typeof self.postMessage&&"function"==typeof self.importScripts?self.Levenshtein=l:"undefined"!=typeof window&&null!==window&&(window.Levenshtein=l)}()},811:(t,e,r)=>{"use strict";r.r(e),r.d(e,{closest:()=>i,distance:()=>a});const n=new Uint32Array(65536),a=(t,e)=>{if(t.length<e.length){const r=e;e=t,t=r}return 0===e.length?t.length:t.length<=32?((t,e)=>{const r=t.length,a=e.length,i=1<<r-1;let o=-1,s=0,l=r,u=r;for(;u--;)n[t.charCodeAt(u)]|=1<<u;for(u=0;u<a;u++){let t=n[e.charCodeAt(u)];const r=t|s;t|=(t&o)+o^o,s|=~(t|o),o&=t,s&i&&l++,o&i&&l--,s=s<<1|1,o=o<<1|~(r|s),s&=r}for(u=r;u--;)n[t.charCodeAt(u)]=0;return l})(t,e):((t,e)=>{const r=e.length,a=t.length,i=[],o=[],s=Math.ceil(r/32),l=Math.ceil(a/32);for(let t=0;t<s;t++)o[t]=-1,i[t]=0;let u=0;for(;u<l-1;u++){let s=0,l=-1;const c=32*u,h=Math.min(32,a)+c;for(let e=c;e<h;e++)n[t.charCodeAt(e)]|=1<<e;for(let t=0;t<r;t++){const r=n[e.charCodeAt(t)],a=o[t/32|0]>>>t&1,u=i[t/32|0]>>>t&1,c=r|s,h=((r|u)&l)+l^l|r|u;let m=s|~(h|l),f=l&h;m>>>31^a&&(o[t/32|0]^=1<<t),f>>>31^u&&(i[t/32|0]^=1<<t),m=m<<1|a,f=f<<1|u,l=f|~(c|m),s=m&c}for(let e=c;e<h;e++)n[t.charCodeAt(e)]=0}let c=0,h=-1;const m=32*u,f=Math.min(32,a-m)+m;for(let e=m;e<f;e++)n[t.charCodeAt(e)]|=1<<e;let p=a;for(let t=0;t<r;t++){const r=n[e.charCodeAt(t)],s=o[t/32|0]>>>t&1,l=i[t/32|0]>>>t&1,u=r|c,m=((r|l)&h)+h^h|r|l;let f=c|~(m|h),d=h&m;p+=f>>>a-1&1,p-=d>>>a-1&1,f>>>31^s&&(o[t/32|0]^=1<<t),d>>>31^l&&(i[t/32|0]^=1<<t),f=f<<1|s,d=d<<1|l,h=d|~(u|f),c=f&u}for(let e=m;e<f;e++)n[t.charCodeAt(e)]=0;return p})(t,e)},i=(t,e)=>{let r=1/0,n=0;for(let i=0;i<e.length;i++){const o=a(t,e[i]);o<r&&(r=o,n=i)}return e[n]}},77:function(t,e,r){var n,a;n=function(){var t,e,r,n,a,i={},o={},s={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},l={currentLocale:s.currentLocale,zeroFormat:s.zeroFormat,nullFormat:s.nullFormat,defaultFormat:s.defaultFormat,scalePercentBy100:s.scalePercentBy100};function u(t,e){this._input=t,this._value=e}return(t=function(r){var n,a,o,s;if(t.isNumeral(r))n=r.value();else if(0===r||void 0===r)n=0;else if(null===r||e.isNaN(r))n=null;else if("string"==typeof r)if(l.zeroFormat&&r===l.zeroFormat)n=0;else if(l.nullFormat&&r===l.nullFormat||!r.replace(/[^0-9]+/g,"").length)n=null;else{for(a in i)if((s="function"==typeof i[a].regexps.unformat?i[a].regexps.unformat():i[a].regexps.unformat)&&r.match(s)){o=i[a].unformat;break}n=(o=o||t._.stringToNumber)(r)}else n=Number(r)||null;return new u(r,n)}).version="2.0.6",t.isNumeral=function(t){return t instanceof u},t._=e={numberToFormat:function(e,r,n){var a,i,s,l,u,c,h,m,f=o[t.options.currentLocale],p=!1,d=!1,g="",b=1e12,y=1e9,v=1e6,w="",x=!1;if(e=e||0,i=Math.abs(e),t._.includes(r,"(")?(p=!0,r=r.replace(/[\(|\)]/g,"")):(t._.includes(r,"+")||t._.includes(r,"-"))&&(u=t._.includes(r,"+")?r.indexOf("+"):e<0?r.indexOf("-"):-1,r=r.replace(/[\+|\-]/g,"")),t._.includes(r,"a")&&(a=!!(a=r.match(/a(k|m|b|t)?/))&&a[1],t._.includes(r," a")&&(g=" "),r=r.replace(new RegExp(g+"a[kmbt]?"),""),i>=b&&!a||"t"===a?(g+=f.abbreviations.trillion,e/=b):i<b&&i>=y&&!a||"b"===a?(g+=f.abbreviations.billion,e/=y):i<y&&i>=v&&!a||"m"===a?(g+=f.abbreviations.million,e/=v):(i<v&&i>=1e3&&!a||"k"===a)&&(g+=f.abbreviations.thousand,e/=1e3)),t._.includes(r,"[.]")&&(d=!0,r=r.replace("[.]",".")),s=e.toString().split(".")[0],l=r.split(".")[1],c=r.indexOf(","),m=(r.split(".")[0].split(",")[0].match(/0/g)||[]).length,l?(t._.includes(l,"[")?(l=(l=l.replace("]","")).split("["),w=t._.toFixed(e,l[0].length+l[1].length,n,l[1].length)):w=t._.toFixed(e,l.length,n),s=w.split(".")[0],w=t._.includes(w,".")?f.delimiters.decimal+w.split(".")[1]:"",d&&0===Number(w.slice(1))&&(w="")):s=t._.toFixed(e,0,n),g&&!a&&Number(s)>=1e3&&g!==f.abbreviations.trillion)switch(s=String(Number(s)/1e3),g){case f.abbreviations.thousand:g=f.abbreviations.million;break;case f.abbreviations.million:g=f.abbreviations.billion;break;case f.abbreviations.billion:g=f.abbreviations.trillion}if(t._.includes(s,"-")&&(s=s.slice(1),x=!0),s.length<m)for(var _=m-s.length;_>0;_--)s="0"+s;return c>-1&&(s=s.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+f.delimiters.thousands)),0===r.indexOf(".")&&(s=""),h=s+w+(g||""),p?h=(p&&x?"(":"")+h+(p&&x?")":""):u>=0?h=0===u?(x?"-":"+")+h:h+(x?"-":"+"):x&&(h="-"+h),h},stringToNumber:function(t){var e,r,n,a=o[l.currentLocale],i=t,s={thousand:3,million:6,billion:9,trillion:12};if(l.zeroFormat&&t===l.zeroFormat)r=0;else if(l.nullFormat&&t===l.nullFormat||!t.replace(/[^0-9]+/g,"").length)r=null;else{for(e in r=1,"."!==a.delimiters.decimal&&(t=t.replace(/\./g,"").replace(a.delimiters.decimal,".")),s)if(n=new RegExp("[^a-zA-Z]"+a.abbreviations[e]+"(?:\\)|(\\"+a.currency.symbol+")?(?:\\))?)?$"),i.match(n)){r*=Math.pow(10,s[e]);break}r*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),r*=Number(t)}return r},isNaN:function(t){return"number"==typeof t&&isNaN(t)},includes:function(t,e){return-1!==t.indexOf(e)},insert:function(t,e,r){return t.slice(0,r)+e+t.slice(r)},reduce:function(t,e){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var r,n=Object(t),a=n.length>>>0,i=0;if(3===arguments.length)r=arguments[2];else{for(;i<a&&!(i in n);)i++;if(i>=a)throw new TypeError("Reduce of empty array with no initial value");r=n[i++]}for(;i<a;i++)i in n&&(r=e(r,n[i],i,n));return r},multiplier:function(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce((function(t,r){var n=e.multiplier(r);return t>n?t:n}),1)},toFixed:function(t,e,r,n){var a,i,o,s,l=t.toString().split("."),u=e-(n||0);return a=2===l.length?Math.min(Math.max(l[1].length,u),e):u,o=Math.pow(10,a),s=(r(t+"e+"+a)/o).toFixed(a),n>e-a&&(i=new RegExp("\\.?0{1,"+(n-(e-a))+"}$"),s=s.replace(i,"")),s}},t.options=l,t.formats=i,t.locales=o,t.locale=function(t){return t&&(l.currentLocale=t.toLowerCase()),l.currentLocale},t.localeData=function(t){if(!t)return o[l.currentLocale];if(t=t.toLowerCase(),!o[t])throw new Error("Unknown locale : "+t);return o[t]},t.reset=function(){for(var t in s)l[t]=s[t]},t.zeroFormat=function(t){l.zeroFormat="string"==typeof t?t:null},t.nullFormat=function(t){l.nullFormat="string"==typeof t?t:null},t.defaultFormat=function(t){l.defaultFormat="string"==typeof t?t:"0.0"},t.register=function(t,e,r){if(e=e.toLowerCase(),this[t+"s"][e])throw new TypeError(e+" "+t+" already registered.");return this[t+"s"][e]=r,r},t.validate=function(e,r){var n,a,i,o,s,l,u,c;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),(e=e.trim()).match(/^\d+$/))return!0;if(""===e)return!1;try{u=t.localeData(r)}catch(e){u=t.localeData(t.locale())}return i=u.currency.symbol,s=u.abbreviations,n=u.delimiters.decimal,a="."===u.delimiters.thousands?"\\.":u.delimiters.thousands,!(null!==(c=e.match(/^[^\d]+/))&&(e=e.substr(1),c[0]!==i)||null!==(c=e.match(/[^\d]+$/))&&(e=e.slice(0,-1),c[0]!==s.thousand&&c[0]!==s.million&&c[0]!==s.billion&&c[0]!==s.trillion)||(l=new RegExp(a+"{2}"),e.match(/[^\d.,]/g)||(o=e.split(n)).length>2||(o.length<2?!o[0].match(/^\d+.*\d$/)||o[0].match(l):1===o[0].length?!o[0].match(/^\d+$/)||o[0].match(l)||!o[1].match(/^\d+$/):!o[0].match(/^\d+.*\d$/)||o[0].match(l)||!o[1].match(/^\d+$/))))},t.fn=u.prototype={clone:function(){return t(this)},format:function(e,r){var n,a,o,s=this._value,u=e||l.defaultFormat;if(r=r||Math.round,0===s&&null!==l.zeroFormat)a=l.zeroFormat;else if(null===s&&null!==l.nullFormat)a=l.nullFormat;else{for(n in i)if(u.match(i[n].regexps.format)){o=i[n].format;break}a=(o=o||t._.numberToFormat)(s,u,r)}return a},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var r=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([this._value,t],(function(t,e,n,a){return t+Math.round(r*e)}),0)/r,this},subtract:function(t){var r=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([t],(function(t,e,n,a){return t-Math.round(r*e)}),Math.round(this._value*r))/r,this},multiply:function(t){return this._value=e.reduce([this._value,t],(function(t,r,n,a){var i=e.correctionFactor(t,r);return Math.round(t*i)*Math.round(r*i)/Math.round(i*i)}),1),this},divide:function(t){return this._value=e.reduce([this._value,t],(function(t,r,n,a){var i=e.correctionFactor(t,r);return Math.round(t*i)/Math.round(r*i)})),this},difference:function(e){return Math.abs(t(this._value).subtract(e).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,r,n){var a,i=t._.includes(r," BPS")?" ":"";return e*=1e4,r=r.replace(/\s?BPS/,""),a=t._.numberToFormat(e,r,n),t._.includes(a,")")?((a=a.split("")).splice(-1,0,i+"BPS"),a=a.join("")):a=a+i+"BPS",a},unformat:function(e){return+(1e-4*t._.stringToNumber(e)).toFixed(15)}}),n={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},a="("+(a=(r={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(n.suffixes.filter((function(t){return r.suffixes.indexOf(t)<0}))).join("|")).replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(a)},format:function(e,a,i){var o,s,l,u=t._.includes(a,"ib")?n:r,c=t._.includes(a," b")||t._.includes(a," ib")?" ":"";for(a=a.replace(/\s?i?b/,""),o=0;o<=u.suffixes.length;o++)if(s=Math.pow(u.base,o),l=Math.pow(u.base,o+1),null===e||0===e||e>=s&&e<l){c+=u.suffixes[o],s>0&&(e/=s);break}return t._.numberToFormat(e,a,i)+c},unformat:function(e){var a,i,o=t._.stringToNumber(e);if(o){for(a=r.suffixes.length-1;a>=0;a--){if(t._.includes(e,r.suffixes[a])){i=Math.pow(r.base,a);break}if(t._.includes(e,n.suffixes[a])){i=Math.pow(n.base,a);break}}o*=i||1}return o}}),t.register("format","currency",{regexps:{format:/(\$)/},format:function(e,r,n){var a,i,o=t.locales[t.options.currentLocale],s={before:r.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:r.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(r=r.replace(/\s?\$\s?/,""),a=t._.numberToFormat(e,r,n),e>=0?(s.before=s.before.replace(/[\-\(]/,""),s.after=s.after.replace(/[\-\)]/,"")):e<0&&!t._.includes(s.before,"-")&&!t._.includes(s.before,"(")&&(s.before="-"+s.before),i=0;i<s.before.length;i++)switch(s.before[i]){case"$":a=t._.insert(a,o.currency.symbol,i);break;case" ":a=t._.insert(a," ",i+o.currency.symbol.length-1)}for(i=s.after.length-1;i>=0;i--)switch(s.after[i]){case"$":a=i===s.after.length-1?a+o.currency.symbol:t._.insert(a,o.currency.symbol,-(s.after.length-(1+i)));break;case" ":a=i===s.after.length-1?a+" ":t._.insert(a," ",-(s.after.length-(1+i)+o.currency.symbol.length-1))}return a}}),t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,r,n){var a=("number"!=typeof e||t._.isNaN(e)?"0e+0":e.toExponential()).split("e");return r=r.replace(/e[\+|\-]{1}0/,""),t._.numberToFormat(Number(a[0]),r,n)+"e"+a[1]},unformat:function(e){var r=t._.includes(e,"e+")?e.split("e+"):e.split("e-"),n=Number(r[0]),a=Number(r[1]);return a=t._.includes(e,"e-")?a*=-1:a,t._.reduce([n,Math.pow(10,a)],(function(e,r,n,a){var i=t._.correctionFactor(e,r);return e*i*(r*i)/(i*i)}),1)}}),t.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,r,n){var a=t.locales[t.options.currentLocale],i=t._.includes(r," o")?" ":"";return r=r.replace(/\s?o/,""),i+=a.ordinal(e),t._.numberToFormat(e,r,n)+i}}),t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,r,n){var a,i=t._.includes(r," %")?" ":"";return t.options.scalePercentBy100&&(e*=100),r=r.replace(/\s?\%/,""),a=t._.numberToFormat(e,r,n),t._.includes(a,")")?((a=a.split("")).splice(-1,0,i+"%"),a=a.join("")):a=a+i+"%",a},unformat:function(e){var r=t._.stringToNumber(e);return t.options.scalePercentBy100?.01*r:r}}),t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,e,r){var n=Math.floor(t/60/60),a=Math.floor((t-60*n*60)/60),i=Math.round(t-60*n*60-60*a);return n+":"+(a<10?"0"+a:a)+":"+(i<10?"0"+i:i)},unformat:function(t){var e=t.split(":"),r=0;return 3===e.length?(r+=60*Number(e[0])*60,r+=60*Number(e[1]),r+=Number(e[2])):2===e.length&&(r+=60*Number(e[0]),r+=Number(e[1])),Number(r)}}),t},void 0===(a=n.call(e,r,e,t))||(t.exports=a)},379:t=>{"use strict";var e=[];function r(t){for(var r=-1,n=0;n<e.length;n++)if(e[n].identifier===t){r=n;break}return r}function n(t,n){for(var i={},o=[],s=0;s<t.length;s++){var l=t[s],u=n.base?l[0]+n.base:l[0],c=i[u]||0,h="".concat(u," ").concat(c);i[u]=c+1;var m=r(h),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==m)e[m].references++,e[m].updater(f);else{var p=a(f,n);n.byIndex=s,e.splice(s,0,{identifier:h,updater:p,references:1})}o.push(h)}return o}function a(t,e){var r=e.domAPI(e);return r.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,a){var i=n(t=t||[],a=a||{});return function(t){t=t||[];for(var o=0;o<i.length;o++){var s=r(i[o]);e[s].references--}for(var l=n(t,a),u=0;u<i.length;u++){var c=r(i[u]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}i=l}}},569:t=>{"use strict";var e={};t.exports=function(t,r){var n=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,r)=>{"use strict";t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var a=void 0!==r.layer;a&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,a&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},968:(t,e,r)=>{"use strict";var n=r(379),a=r.n(n),i=r(795),o=r.n(i),s=r(569),l=r.n(s),u=r(565),c=r.n(u),h=r(216),m=r.n(h),f=r(589),p=r.n(f),d=r(424),g={};g.styleTagTransform=p(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=m(),a()(d.Z,g),d.Z&&d.Z.locals&&d.Z.locals;var b=r(77),y=r.n(b);class v{raw;constructor(t){this.raw=t}isValid(){return this.trimmed().split(";").length>=7&&this.trimmed().startsWith("20")}parse(){let t=function(t,e=";"){var r=new RegExp("(\\"+e+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+e+"\\r\\n]*))","gi");const n=[[]];let a;for(;a=r.exec(t);){const t=a[1];t.length&&t!=e&&n.push([]),a[2]?n[n.length-1].push(a[2].replace(new RegExp('""',"g"),'"')):n[n.length-1].push(a[3])}return n}(this.trimmed())[0],e=x.asString(t[3]),r=x.asDate(t[0]),n=x.substringAfter(e,"DATA TRANSAKCJI: "),a=null!=n?x.asDate(n):r;return{raw:this.raw,operationDate:r,accountingDate:x.asDate(t[1]),operationType:x.asString(t[2]),title:e,senderAndReceiver:x.asString(t[4]),accountNumber:x.asString(t[5]),amount:x.asNumber(t[6]),balanceAfterOperation:x.asNumber(t[7]),transactionDate:a}}trimmed(){return this.raw.trim()}}class w{entries;constructor(t=[]){this.entries=t}addLines(t){t.split(/\r?\n/).forEach((t=>{let e=new v(t);e.isValid()&&this.entries.push(e.parse())}))}}class x{static asString(t){return(t||"").replace(/\s+/g," ").trim()}static asInt(t){return Number.parseInt(x.asString(t))}static asNumber(t){return y()(t.replaceAll("zł","").replaceAll(" ","").replaceAll(" ","").replaceAll(",",".").trim())}static asDate(t){let e=new Date(t);return{year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()}}static asDateFormatted(t){const e=t=>t>=10?String(t):"0"+String(t);return`${t.year}-${e(t.month)}-${e(t.day)}`}static asDateOrNull(t){return t.length>6?x.asDate(t):null}static substringAfter(t,e){return t.includes(e)?t.substring(t.indexOf(e)+e.length):null}}class _{entries;constructor(t=[]){this.entries=t}addLines(t){t.split(/\r?\n/).slice(1).forEach((t=>{let e=new F(t);e.isValid()&&this.entries.push(e.parse())}))}}class F{input;constructor(t){this.input=t}isValid(){return this.input.split("\t").length>=7}parse(){let t=this.input.split("\t");return{year:x.asInt(t[0]),month:x.asInt(t[1]),date:x.asDateOrNull(t[2]),description:x.asString(t[3]),amount:x.asNumber(t[4]),group:x.asString(t[5]),category:x.asString(t[6]),code:x.asString(t[7])}}}var M=r(493),A=r.n(M);class ${context;isDebug;mappings;constructor(t,e=!1){this.context=t,this.isDebug=e,this.mappings=this.context.roughMapping().map((t=>t.toSingleMapping())).filter((t=>null!=t)).sort(((t,e)=>{let r=x.asDateFormatted(t.history.transactionDate),n=x.asDateFormatted(e.history.transactionDate);return(""+r).localeCompare(n)}))}think(t){let e=new w;e.addLines(t);let r=e.entries.map((t=>this.explain(t)));return{output:r.map((t=>t.tsv)).sort(((t,e)=>(""+t.split("\t")[2]).localeCompare(e.split("\t")[2]))).join("\n"),details:r.map((t=>t.details)).join("\n======\n")}}explain(t){let{matchMap:e,match:r,sorted:n,exact:a}=this.bestMatch(t),i=n.map((t=>`${t} => ${e.get(t)?.map((t=>t.origin.summary())).join("\n - - - \n")}`)).join("\n = = = = =\n"),o=this.tsv(r,t);return{tsv:o,match:r,details:`### Trying to match: ${t.raw}\n### Matched output line: ${o}\n### Exact match: ${a}\n### Levenstein:\n${i}\n`}}bestMatch(t){let e=new Map;for(let r of this.mappings){let n=r.score(t);null==e.get(n)?e.set(n,[r]):e.get(n).push(r)}let r=[...e.keys()].sort(((t,e)=>t-e));this.isDebug||(r=r.slice(0,2));let n=r[0],a=e.get(n),i=function(t){if(0==t.length)return null;for(var e={},r=t[0],n=1,a=0;a<t.length;a++){var i=t[a];null==e[i]?e[i]=1:e[i]++,e[i]>n&&(r=i,n=e[i])}return r}(a.map((t=>t.wallet.description)));return{sorted:r,exact:0===n,match:a.find((t=>t.wallet.description==i)),matchMap:e}}tsv(t,e){return[e.transactionDate?.year,e.transactionDate?.month,x.asDateFormatted(e.transactionDate),t?.wallet.description||`Unable to match: ${e.title}, ${e.senderAndReceiver}`,e.amount.format("0.00").replace(".",","),t?.wallet.group||"Inne",t?.score(e),"","","",`FROM: ${e.title}`].join("\t")}static of(t,e,r=!1){let n=new w;n.addLines(t);let a=new _;a.addLines(e);let i=new C(new k(a),new T(n));return new T(n),new $(i,r)}}class N{date;amount;constructor(t,e){this.date=t,this.amount=e}static fromWallet=t=>new N({year:t.year,month:t.month,day:t.date?.day||1},t.amount);static fromHistory=t=>new N(t.transactionDate,t.amount);raw(){return`${this.date.year}_${this.date.month}_${this.date.day}_${this.amount.format("+0.00")}`}}class D{account;amount;constructor(t,e){this.account=t,this.amount=e}static fromHistory=t=>new D(t.accountNumber,t.amount);raw(){return`${this.account}_${this.amount.format("+0.00")}`}}class S{mapping=new Map;keys=new Array;push(t,e){this.keys.push(t);let r=this.mapping.get(t.raw());null!=r?r.push(e):this.mapping.set(t.raw(),[e])}getFirst(t){let e=this.mapping.get(t.raw());return null!=e&&e.length>0?e[0]:null}get(t){return this.mapping.get(t.raw())}}class k{byDateAmount;constructor(t,e=new S){this.byDateAmount=e,t.entries.forEach((t=>this.byDateAmount.push(N.fromWallet(t),t)))}}class T{byDateAmount;byAccountAmount;constructor(t,e=new S,r=new S){this.byDateAmount=e,this.byAccountAmount=r,t.entries.forEach((t=>{this.byDateAmount.push(N.fromHistory(t),t),this.byAccountAmount.push(D.fromHistory(t),t)}))}}class B{key;history;wallet;origin;constructor(t,e,r,n){this.key=t,this.history=e,this.wallet=r,this.origin=n}score=t=>{let e=A().get(t.title,this.history.title);return t.amount.value()!=this.history.amount.value()&&(e+=1),e};summary=()=>`${this.wallet.description} <= ${this.history.title}`;walletTsv=()=>[this.wallet.year,this.wallet.month,x.asDateFormatted(this.wallet.date),this.wallet.description,this.wallet.amount.format("0.00").replace(".",","),this.wallet.group].join("\t");historyTsv=()=>[x.asDateFormatted(this.history.operationDate),x.asDateFormatted(this.history.accountingDate),this.history.operationType,this.history.title,this.history.senderAndReceiver,this.history.accountNumber,this.history.amount.format("0.00").replace(".",","),this.history.balanceAfterOperation.format("0.00").replace(".",",")].join(";")}class E{key;context;constructor(t,e){this.key=t,this.context=e}summary=()=>`[${this.key.raw()}]:SingleMapping:${this.toSingleMapping()?.summary()}\n${this.context.history.byDateAmount.get(this.key).map((t=>` from << ${t.title} || ${JSON.stringify(t)}\n`.trim())).join("")}\n${this.context.wallet.byDateAmount.get(this.key)?.map((t=>` to >> ${t.description} (${t.group}) || ${JSON.stringify(t)}\n`.trim())).join("")}\n\n\n`.trim();toSingleMapping(){let t=this.context.history.byDateAmount.get(this.key),e=this.context.wallet.byDateAmount.get(this.key);return null!=t&&1==t.length&&null!=e&&1==e.length?new B(this.key,t[0],e[0],this):null}}class C{wallet;history;constructor(t,e){this.wallet=t,this.history=e}keys=()=>this.history.byDateAmount.keys;roughMapping=()=>this.keys().map((t=>new E(t,this)));summary=()=>this.roughMapping().map((t=>t.summary())).join("\n")}addEventListener("load",(()=>{L("history"),L("gdocs"),L("source"),document.getElementById("onSave").addEventListener("click",(()=>{I("history"),I("gdocs")})),document.getElementById("onThink").addEventListener("click",(()=>{let t=document.getElementById("explain-full").checked,e=$.of(j("history").value,j("gdocs").value,t).think(j("source").value);j("target").value=e.output,j("explain").value=e.details,I("source")}))}));const L=t=>{let e=window.localStorage.getItem(t)??"";j(t).value=e,console.log(`Loaded: ${t}`)},I=t=>{let e=j(t).value;localStorage.setItem(t,e??""),console.log(`Saved: ${t}`)},j=t=>document.getElementById(t)}},t=>{t(t.s=968)}]);